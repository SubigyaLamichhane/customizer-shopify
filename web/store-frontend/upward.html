<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <title>curved text</title>
   <style>
      canvas {
     border: 1px solid #999;
      }
   </style>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/510/fabric.min.js"></script>
</head>
<body>
   <canvas id="c1"></canvas>

<button onclick="upword()">Upword</button>

   <script type="text/javascript">
      var canvas = new fabric.Canvas('c1', {
        width: 500,
        height: 300,
        backgroundColor: '#ffffff',
      });

      var text_val = 'Hello World';
      var i = 0;
      var upward = new fabric.IText(text_val, {
        left: 50,
        top: 150,
        fontSize: 40,
        fontFamily: 'Monaco',
        padding: 0,
        lineHeight: 1,
         })
        .scale(1.5);
      canvas.add(upward);

      function upword(){
        console.log("clicked function");
        var selectedObj = canvas.getActiveObject();
        var text_val = selectedObj.text.toUpperCase();
        console.log(selectedObj);
        var i = 0;
        var font_size = selectedObj.fontSize-15;
        var add_size = (1500 / selectedObj._text.length) * .01;
        // var add_size = 1;
        console.log("font size : ", font_size , " | add size in point : ", add_size);
        var style_json = {};
        // font_size = 15;
        while(selectedObj._text.length > i){
          if(selectedObj._text[i] !== ''){
            var updated_font_size = font_size+add_size;
            style_json[parseInt(i)] = { fontSize: updated_font_size}
            font_size = updated_font_size
          }else{
            style_json[i] = { fontSize : font_size }
          }
          i++;
        }

        console.log("style json : ", style_json)
        selectedObj.set({
          text: text_val,
          styles: {
            0 : style_json
          }
        })
        canvas.renderAll();
      }

   </script>

</body>
</html>